<!DOCTYPE html>
<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ­ã‚°ã‚¤ãƒ³ - HealSweets</title>
    <link rel="icon" type="image/png" th:href="@{/images/favicon.png}">
    <link rel="stylesheet" th:href="@{/css/login-style.css}">
</head>
<body>
    <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
    <header th:replace="~{fragments/header :: headerSimple}"></header>

    <!-- ãƒ­ã‚°ã‚¤ãƒ³ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
    <section class="login-section">
        <div class="container">
            <div class="login-container">
                <!-- ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ  -->
                <div class="login-card">
                    <div class="login-header">
                        <h1>ãƒ­ã‚°ã‚¤ãƒ³</h1>
                        <p>HealSweetsã¸ã‚ˆã†ã“ãï¼</p>
                    </div>

                    <!-- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º -->
                    <div th:if="${param.error}" class="alert alert-error">
                        <p>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚</p>
                    </div>
                    <div th:if="${param.logout}" class="alert alert-success">
                        <p>ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚</p>
                    </div>
                    <div th:if="${param.withdraw}" class="alert alert-success">
                        <p>é€€ä¼šå‡¦ç†ãŒå®Œäº†ã—ã¾ã—ãŸã€‚ã”åˆ©ç”¨ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã—ãŸã€‚</p>
                    </div>
                    <div th:if="${successMessage}" class="alert alert-success">
                        <p th:text="${successMessage}">æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</p>
                    </div>

                    <form class="login-form" th:action="@{/login}" method="post" autocomplete="off">
                        <div class="form-group">
                            <label>ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆãƒ­ã‚°ã‚¤ãƒ³IDï¼‰</label>
                            <div class="input-wrapper">
                                <span class="input-icon">ğŸ“§</span>
                                <input type="email" class="form-input" name="email" required 
                                       placeholder="example@email.com" autocomplete="off">
                            </div>
                        </div>

                        <div class="form-group">
                            <label>ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰</label>
                            <div class="input-wrapper">
                                <span class="input-icon">ğŸ”’</span>
                                <input type="password" class="form-input" name="password" id="password" 
                                       required placeholder="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›" autocomplete="new-password">
                                <button type="button" class="toggle-password" onclick="togglePassword()">ğŸ‘ï¸</button>
                            </div>
                        </div>

                        <div class="form-options">
                            <label class="remember-me">
                                <input type="checkbox" name="remember-me">
                                <span>ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹</span>
                            </label>
                        </div>

                        <button type="submit" class="login-btn">ãƒ­ã‚°ã‚¤ãƒ³</button>
                    </form>

                    <div class="register-prompt">
                        <p>ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ãªã„æ–¹</p>
                        <a th:href="@{/register}" class="register-btn">æ–°è¦ä¼šå“¡ç™»éŒ²</a>
                    </div>
                    
                    <!-- ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ± -->
                    <div class="test-account-info">
                        <p><strong>ãƒ†ã‚¹ãƒˆã‚¢ã‚«ã‚¦ãƒ³ãƒˆ:</strong></p>
                        <p>Email: tanaka@example.com</p>
                        <p>Password: password123</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        function togglePassword() {
            const passwordInput = document.getElementById('password');
            const toggleBtn = document.querySelector('.toggle-password');
            
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                toggleBtn.textContent = 'ğŸ™ˆ';
            } else {
                passwordInput.type = 'password';
                toggleBtn.textContent = 'ğŸ‘ï¸';
            }
        }

        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«ãƒ•ã‚©ãƒ¼ãƒ ã‚’ã‚¯ãƒªã‚¢
        document.addEventListener('DOMContentLoaded', function() {
            const form = document.querySelector('.login-form');
            if (form) {
                form.reset();
            }
            // å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æ˜ç¤ºçš„ã«ã‚¯ãƒªã‚¢
            const emailInput = document.querySelector('input[name="email"]');
            const passwordInput = document.querySelector('input[name="password"]');
            if (emailInput) emailInput.value = '';
            if (passwordInput) passwordInput.value = '';
        });
    </script>
    
    <style>
        .alert {
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        .alert-error {
            background-color: #ffebee;
            color: #c62828;
            border: 1px solid #ef9a9a;
        }
        .alert-success {
            background-color: #e8f5e9;
            color: #2e7d32;
            border: 1px solid #a5d6a7;
        }
        .test-account-info {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3e0;
            border-radius: 8px;
            font-size: 0.9em;
        }
        .test-account-info p {
            margin: 5px 0;
        }
    </style>
</body>
</html>
